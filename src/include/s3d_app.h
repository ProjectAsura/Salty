//-------------------------------------------------------------------------------------------------
// File : s3d_app.h
// Desc : Application Module.
// Copyright(c) Project Asura. All right reserved.
//-------------------------------------------------------------------------------------------------
#pragma once

//-------------------------------------------------------------------------------------------------
// Includes
//-------------------------------------------------------------------------------------------------
#include <s3d_typedef.h>
#include <s3d_math.h>
#include <s3d_shape.h>
#include <s3d_bvh.h>
#include <s3d_camera.h>
#include <s3d_timer.h>


namespace s3d {

///////////////////////////////////////////////////////////////////////////////////////////////////
// Config structure
///////////////////////////////////////////////////////////////////////////////////////////////////
struct Config
{
    u32     Width;                  //!< 画像の横幅です.
    u32     Height;                 //!< 画像の縦幅です.
    u32     NumSamples;             //!< サンプル数です.
    u32     NumSubSamples;          //!< サブサンプル数です.
    s32     MaxDepth;               //!< 打ち切り深度.
    char    SceneFileName[256];     //!< シーンファイル名です.
};

///////////////////////////////////////////////////////////////////////////////////////////////////
// App class
///////////////////////////////////////////////////////////////////////////////////////////////////
class App
{
    //=============================================================================================
    // list of friend classes and methods.
    //=============================================================================================
    /* NOTHING */

public:
    //=============================================================================================
    // public variables.
    //=============================================================================================
    /* NOTHING */

    //=========================================================================
    // public methods.
    //=========================================================================

    //-------------------------------------------------------------------------
    //! @brief      コンストラクタです.
    //-------------------------------------------------------------------------
    App();

    //-------------------------------------------------------------------------
    //! @brief      デストラクタです.
    //-------------------------------------------------------------------------
    virtual ~App();

    //-------------------------------------------------------------------------
    //! @brief      アプリケーションを実行します.
    //-------------------------------------------------------------------------
    void Run( const Config& );

protected:
    //=========================================================================
    // protected variables.
    //=========================================================================
    /* NOTHING */

    //=========================================================================
    // protected methods.
    //=========================================================================
    /* NOTHING */

private:
    //=========================================================================
    // private variables.
    //=========================================================================
    /* NOTHING */

    //=========================================================================
    // private methods.
    //=========================================================================
    App             ( const App& );     // アクセス禁止.
    void operator = ( const App& );     // アクセス禁止.
};


} // namespace s3d
