//-----------------------------------------------------------------------------------
// File : s3d_qrand.h
// Desc : Quans-Random Number Generator Module.
// Copyright(c) Project Asura. All right reserved.
//-----------------------------------------------------------------------------------

#ifndef __S3D_QRAND_H__
#define __S3D_QRAND_H__

//-----------------------------------------------------------------------------------
// Includes
//-----------------------------------------------------------------------------------
#include <s3d_typedef.h>
#include <vector>


namespace s3d {

/////////////////////////////////////////////////////////////////////////////////////
// QRandom class
/////////////////////////////////////////////////////////////////////////////////////
class QRandom
{
    //===============================================================================
    // list of friend classes and methods.
    //===============================================================================
    /* NOTHING */

public:
    //===============================================================================
    // public variables.
    //===============================================================================
    /* NOTHING */

    //===============================================================================
    // public methods.
    //===============================================================================

    //-------------------------------------------------------------------------------
    //! @brief     コンストラクタです.
    //-------------------------------------------------------------------------------
    QRandom();

    //-------------------------------------------------------------------------------
    //! @brief      デストラクタです.
    //-------------------------------------------------------------------------------
    virtual ~QRandom();

    //-------------------------------------------------------------------------------
    //! @brief      初期化処理を行います.
    //-------------------------------------------------------------------------------
    static bool Init();

    //-------------------------------------------------------------------------------
    //! @brief      終了処理を行います.
    //-------------------------------------------------------------------------------
    static void Term();

    //-------------------------------------------------------------------------------
    //! @brief      値をfloat型として取得します.
    //-------------------------------------------------------------------------------
    f32 GetAsF32();

    //-------------------------------------------------------------------------------
    //! @brief      値をdouble型として取得します.
    //-------------------------------------------------------------------------------
    f64 GetAsF64();

    //-------------------------------------------------------------------------------
    //! @brief      数列生成に使用している素数の数を返却します.
    //-------------------------------------------------------------------------------
    u32 GetDimension() const;

    //-------------------------------------------------------------------------------
    //! @brief      インデックスを設定します.
    //-------------------------------------------------------------------------------
    void SetIndex( s32 index );

    //-------------------------------------------------------------------------------
    //! @brief      インデックスを取得します.
    //-------------------------------------------------------------------------------
    s32 GetIndex() const;

protected:
    //===============================================================================
    // protected variables.
    //===============================================================================
    /* NOTHING */

    //===============================================================================
    // protected methods.
    //===============================================================================
    /* NOTHING */

private:
    //===============================================================================
    // private variables.
    //===============================================================================
    static std::vector<s32>    s_Primes;       //!< 素数テーブルです.
    s32     m_Base;
    s32     m_Index;

    //===============================================================================
    // private methods.
    //===============================================================================
    /* NOTHING */
};

} // namespace s3d


#endif//__S3D_QRAND_H__