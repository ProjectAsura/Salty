//------------------------------------------------------------------------------
// File : s3d_rendertaget.h
// Desc : Render Target Module.
// Copyright(c) Project Asura. All right reserved.
//------------------------------------------------------------------------------

#ifndef __S3D_RENDER_TARGET_H__
#define __S3D_RENDER_TARGET_H__

//------------------------------------------------------------------------------
// Includes
//------------------------------------------------------------------------------
#include <s3d_math.h>


namespace s3d {

////////////////////////////////////////////////////////////////////////////////
// RenderTarget class
////////////////////////////////////////////////////////////////////////////////
class RenderTarget
{
    //==========================================================================
    // list of friend classes and methods.
    //==========================================================================
    /* NOTHING */

public:
    //==========================================================================
    // public variables.
    //==========================================================================
    /* NOTHING */

    //==========================================================================
    // public methods.
    //==========================================================================

    //--------------------------------------------------------------------------
    // public methods.
    //--------------------------------------------------------------------------

    //--------------------------------------------------------------------------
    //! @brief      コンストラクタです.
    //--------------------------------------------------------------------------
    RenderTarget();

    //--------------------------------------------------------------------------
    //! @brief      デストラクタです.
    //--------------------------------------------------------------------------
    virtual ~RenderTarget();

    //--------------------------------------------------------------------------
    //! @brief      初期化処理です.
    //--------------------------------------------------------------------------
    bool Init( const u32 width, const u32 height );

    //--------------------------------------------------------------------------
    //! @brief      終了処理です.
    //--------------------------------------------------------------------------
    void Term();

    //--------------------------------------------------------------------------
    //! @brief      横幅を取得します.
    //--------------------------------------------------------------------------
    u32 GetWidth() const;

    //--------------------------------------------------------------------------
    //! @brief      縦幅を取得します.
    //--------------------------------------------------------------------------
    u32 GetHeight() const;

    //--------------------------------------------------------------------------
    //! @brief      指定されたピクセルを取得します.
    //--------------------------------------------------------------------------
    Color GetPixel( const u32 idx );

    //--------------------------------------------------------------------------
    //! @brief      ピクセルを取得します.
    //--------------------------------------------------------------------------
    f32* GetPixels();

    //--------------------------------------------------------------------------
    //! @brief      指定されたカラーで全ピクセルをクリアします.
    //--------------------------------------------------------------------------
    void Clear( const Color& value );

    //--------------------------------------------------------------------------
    //! @brief      指定されたインデックスのピクセルにカラーを設定します.
    //--------------------------------------------------------------------------
    void SetPixel( const u32 idx, const Color& value );

    //--------------------------------------------------------------------------
    //! @brief      指定されたインデックスのピクセルにカラーを加算します.
    //--------------------------------------------------------------------------
    void AddPixel( const u32 idx, const Color& value );

protected:
    //==========================================================================
    // protected variables.
    //==========================================================================
    /* NOTHING */

    //==========================================================================
    // protected methods.
    //==========================================================================
    /* NOTHING */

private:
    //==========================================================================
    // private variables.
    //==========================================================================
    u32                         m_Width;        //!< 横幅です.
    u32                         m_Height;       //!< 縦幅です.
    Color*                      m_pPixels;      //!< ピクセルデータです.

    //=========================================================================
    // private methods.
    //=========================================================================
    /* NOTHING */
};

} // namespace s3d

#endif//__S3D_RENDER_TARGET_H__
